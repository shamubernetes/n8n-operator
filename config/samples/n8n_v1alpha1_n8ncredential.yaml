# Example: Credential from Kubernetes Secret
apiVersion: n8n.n8n.io/v1alpha1
kind: N8nCredential
metadata:
  name: postgres-account
  namespace: services
spec:
  n8nInstance:
    url: http://n8n.services.svc:5678
    apiKeySecretRef:
      name: n8n-api-key
      key: api-key
  credentialName: "Postgres account"
  credentialType: postgres
  secretRef:
    name: postgres-credentials
  fieldMappings:
    host: POSTGRES_HOST
    user: POSTGRES_USER
    password: POSTGRES_PASSWORD
    database: POSTGRES_DATABASE
  data:
    port: "5432"
    ssl: "disable"
    sshAuthenticateWith: "password"
    sshHost: ""
    sshPort: "22"
    sshUser: ""
    sshPassword: ""
    privateKey: ""
    passphrase: ""
---
# Example: Credential from 1Password
apiVersion: n8n.n8n.io/v1alpha1
kind: N8nCredential
metadata:
  name: onepassword-connect
  namespace: services
spec:
  n8nInstance:
    url: http://n8n.services.svc:5678
    apiKeySecretRef:
      name: n8n-api-key
      key: api-key
  credentialName: "1Password Connect"
  credentialType: onePasswordApi
  onePasswordRef:
    connectHost: http://onepassword-connect.op.svc:8080
    tokenSecretRef:
      name: op-connect-token
      key: token
    vaultId: "your-vault-id"
    itemId: "your-item-id"
    fieldMappings:
      token: "credential"
  data:
    baseURL: "http://onepassword-connect.op.svc:8080"
    allowedDomains: "*"
---
# Example: Simple HTTP Header Auth credential
apiVersion: n8n.n8n.io/v1alpha1
kind: N8nCredential
metadata:
  name: webhook-auth
  namespace: services
spec:
  n8nInstance:
    url: http://n8n.services.svc:5678
    apiKeySecretRef:
      name: n8n-api-key
      key: api-key
  credentialName: "Webhook Auth"
  credentialType: httpHeaderAuth
  secretRef:
    name: webhook-token
  fieldMappings:
    value: token
  data:
    name: "Authorization"
